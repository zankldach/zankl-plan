
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}Zankl Plan{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root { --blue: #003a8f; --bg: #f4f6f8; }
    html, body { height: 100%; }
    body { font-family: Arial, sans-serif; margin:0; background: var(--bg); color:#0f172a; }

    header.site {
      background: var(--blue); color: #fff; padding: 10px 20px;
      display:flex; justify-content: space-between; align-items: center; position: relative;
    }

    nav.site {
      background: var(--blue); padding: 6px 20px; color: white;
      display: flex; gap: 16px; align-items: center;
    }
    nav.site a {
      color: white; text-decoration: none; font-weight: 600; padding: 6px 10px; border-radius: 6px;
    }
    nav.site a:hover { background: rgba(255,255,255,0.14); }

    #settingsGear {
      position:absolute; right:20px; top:50%; transform:translateY(-50%);
      cursor:pointer; font-size:20px;
    }

    main { padding: 20px; }           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/click/core.py", line 824, in invoke
    return callback(*args, **kwargs)
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/uvicorn/main.py", line 424, in main
    run(
    ~~~^
        app,
        ^^^^
    ...<46 lines>...
        h11_max_incomplete_event_size=h11_max_incomplete_event_size,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/uvicorn/main.py", line 594, in run
    server.run()
    ~~~~~~~~~~^^
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/opt/render/project/python/Python-3.13.4/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/render/project/python/Python-3.13.4/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/opt/render/project/src/.venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/render/project/python/Python-3.13.4/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1022, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1160, in get_code
  File "<frozen importlib._bootstrap_external>", line 1090, in source_to_code
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/opt/render/project/src/src/main.py", line 440
    ``
    ^
SyntaxError: invalid syntax

    /* Tabellen Defaults (werden von week.html überschrieben) */
    table { width:100%; border-collapse: collapse; background: #fff; }
    th, td { border:1px solid #ddd; padding:6px; text-align:center; }
    th { background:#eef2f6; }
    td input { width:100%; height:100%; padding:6px; box-sizing:border-box; border:none; background:transparent; text-align:center; font-size:14px; }
  </style>

  {% block head %}{% endblock %}
</head>

<body>

  <header class="site" role="banner" aria-label="Kopfbereich">
    <strong>Zankl Plan</strong>
    <div id="settingsGear" title="Einstellungen" role="button" tabindex="0" aria-label="Einstellungen öffnen">⚙️</div>
  </header>

  <!-- Fixe Navigationsleiste -->
  <nav class="site" role="navigation" aria-label="Hauptnavigation">
    /week?standort=engelbrechtsEngelbrechts</a>
    /week?standort=gross-gerungsGroß Gerungs</a>
    <aettings/employeesEinstellungen</a>
    /yearJahr</a>
    /healthHealth</a>
  </nav>

  <main role="main">
    {% block content %}{% endblock %}
  </main>

  <script>
    function openSettings() { window.location.href = '/settings/employees'; }
    const gear = document.getElementById('settingsGear');
    if (gear) {
      gear.addEventListener('click', openSettings);
      gear.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openSettings(); }
      });
    }

    // Kontextmenü bei Input optional verhindern
    document.addEventListener('contextmenu', e => {
      if (e.target.tagName === 'INPUT') e.preventDefault();
    });
  </script>

  {% block scripts %}{% endblock %}
</body>
</html>
