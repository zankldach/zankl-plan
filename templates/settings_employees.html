<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Mitarbeiter – Einstellungen</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
    font-family: Arial, sans-serif;
    background:#f4f6f8;
    margin:0;
}
header {
    background:#003a8f;
    color:white;
    padding:12px 20px;
    font-size:18px;
}
main {
    max-width:600px;
    margin:30px auto;
    background:white;
    padding:20px;
    border-radius:6px;
}
input {
    width:100%;
    padding:8px;
    margin-bottom:8px;
    font-size:14px;
}
button {
    padding:10px 16px;
    font-size:14px;
    cursor:pointer;
}
.back {
    margin-left:10px;
}
</style>
</head>

<body>

<header>
    Mitarbeiter – Einstellungen
</header>

<main>
    <div id="list">
        {% for name in employees %}
            <input value="{{ name }}">
        {% endfor %}
    </div>

    <button onclick="add()">+ Mitarbeiter</button>
    <br><br>
    <button onclick="save()">Speichern</button>
    <button class="back" onclick="location.href='/'">Zurück</button>
</main>

<script>
function add(){
    const i=document.createElement('input');
    document.getElementById('list').appendChild(i);
}

async function save(){
    const names=[...document.querySelectorAll('#list input')]
        .map(i=>i.value.trim())
        .filter(v=>v);

    await fetch('/settings/employees',{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({employees:names})
    });

    alert('Gespeichert');
}
</script>

</body>
</html>
