<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <title>Zankl Plan – Wochenplanung</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/static/style.v2.css">
</head>

<body>

<header class="topbar">
    <div class="logo">Zankl GmbH</div>
</header>

<main class="container">

    <h2>Wochenansicht – KW {{ kw }} / {{ year }}</h2>

    <!-- Standort -->
    <div class="standorte">
        {% for s in standorte %}
            <a href="/week?standort_id={{ s.id }}&kw={{ kw }}&year={{ year }}">
                {{ s.name }}
            </a>
        {% endfor %}
    </div>

    <!-- Steuerung -->
    <form action="/week" method="get">
        <input type="hidden" name="standort_id" value="{{ standort_id }}">

        <label>
            KW:
            <input type="number" name="kw" value="{{ kw }}" min="1" max="53">
        </label>

        <label>
            Jahr:
            <input type="number" name="year" value="{{ year }}">
        </label>

        <button type="submit">Anzeigen</button>
    </form>

    <hr>

    <!-- GRID -->
    <table border="1" cellpadding="6">
        <thead>
            <tr>
                <th>Zeile</th>
                {% for day in days %}
                    <th>{{ day.label }}<br>{{ day.date }}</th>
                {% endfor %}
            </tr>
        </thead>

        <tbody>
            {% for r in range(employee_lines) %}
                <tr>
                    <td>{{ r + 1 }}</td>

                    {% for d in range(workdays) %}
                        <td>
                            {% if grid[r][d] and grid[r][d].title %}
                                {{ grid[r][d].title }}
                            {% else %}
                                frei
                            {% endif %}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>

</main>

</body>
</html>
